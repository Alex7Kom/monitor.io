<html>
<head>
    <title>monitor.io - remote monitoring and debugging for socket.io</title>
    <link rel="stylesheet" href="stylesheets/main.css">
    <link rel="stylesheet" href="octicons/octicons.css">
    <link rel="stylesheet" href="stylesheets/highlight.js/github.css">
    <script type="text/javascript" src="javascript/highlight.pack.js"></script>
    <script type="text/javascript" src="javascript/main.js"></script>
</head>
<body>
<div class="container">
    <h1 id="brand">monitor.io</h1>
    <div class="first-section">
        <h3 class="subtitle">Simple remote monitoring and debugging middleware for socket.io.</h3>
        <p>
            <img src="https://github.com/drewblaisdell/monitor.io/raw/master/monitor.io.gif" alt="monitor.io" title="monitor.io">
        </p>

        <ul id="links">
            <li><a href="#installation">Installation</a></li>
            <li><a href="#usage">Usage</a></li>
            <li><a href="https://github.com/drewblaisdell/monitor.io">View on Github <span class="octicon octicon-mark-github"></span></a></li>
        </ul>

    </div>

    <div class="section">
        <p><code>monitor.io</code> is a module for Node.js that runs as a telnet server, giving a remote client control of and information about sockets connected to an instance of <code>socket.io</code>.</p>
        <p>This makes it possible to disconnect, emit, or broadcast data to sockets in a remote terminal without interrupting the Node.js process running <code>socket.io</code>. <code>monitor.io</code> also provides a real-time display of any data attached to a socket with the <code>socket#monitor</code> method.</p>
    </div>

    <div class="section" id="installation">
        <h2>Installation</h2>
        <pre><code class="lang-bash">$ npm install monitor.io</code></pre>
    </div>

    <div class="section" id="usage">
        <h2>Usage</h2>
<pre><code class="lang-js"><span class="keyword">var</span> socketio = require(<span class="string">'socket.io'</span>)(server),
    monitorio = require(<span class="string">'monitor.io'</span>);

socketio.use(monitorio({ port: <span class="number">8000</span> }));
<span class="comment">// monitor.io started on port 8000</span></code></pre>
        <p>Use telnet to connect to <code>monitor.io</code> and control a real-time list of sockets connected to <code>socket.io</code>.</p>
        <pre><code class="lang-bash">$ telnet myapp.com 8000</code></pre>
        <p>Use <code>hjkl</code> to scroll verticall/horizontally through the list of sockets, <code>e</code> to emit data to a specific socket, and <code>b</code> to broadcast data to all sockets.</p>
        <h3>Monitoring</h3>
        <p><code>monitor.io</code> attaches a method named <code>monitor</code> to every socket object. This method attaches data to a socket and tells <code>monitor.io</code> to render this data in the <code>monitor.io</code> terminal window.</p>
        <p>Here is an example of how to attach the time that a socket connected to <code>socket.io</code>:</p>
        <pre><code class="lang-js">io.on(<span class="string">'connection'</span>, <span class="keyword">function</span>(socket) {
  socket.monitor(<span class="string">'timeConnected'</span>, Date.now());  
});</code></pre>
        <p><code>socket#monitor</code> must be called whenever monitored information changes, such as the score of a player in a real-time game, to force a rerender in the <code>monitor.io</code> window.</p>
        <pre><code class="lang-js">socket.on(<span class="string">'newHighScore'</span>, <span class="keyword">function</span>(msg) {
  <span class="keyword">var</span> score = msg.score;
  socket.monitor(<span class="string">'highScore'</span>, msg.score);
});</code></pre>
        <p>The <code>monitor</code> method also accepts an object, and will display every key-value pair in an object.</p>
        <pre><code class="lang-js">socket.on(<span class="string">'newPlayer'</span>, <span class="keyword">function</span>(msg) {
  <span class="keyword">var</span> newPlayer = game.createPlayer();
  socket.monitor(newPlayer); 
  <span class="comment">// every key-value pair in newPlayer will be shown
  // in the monitor.io terminal window.</span>
});</code></pre>
    </div>

    <div class="last-section">
        <p>Created by <a href="https://twitter.com/drewblaisdell" id="twitter" target="_blank">@drewblaisdell</a></p>
    </div>
</div>
</body>
</html>